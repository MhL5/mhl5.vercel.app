{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "DrawerDialog",
  "type": "registry:ui",
  "title": "DrawerDialog",
  "description": "a responsive dialog that renders a drawer on mobile (`max-width: 768px`) and a dialog on larger screens.",
  "registryDependencies": [
    "dialog",
    "drawer",
    "http://localhost:7777/r/useMediaQuery.json",
    "http://localhost:7777/r/AutoComplete.json"
  ],
  "files": [
    {
      "path": "src/registry/new-york/DrawerDialog/DrawerDialog.tsx",
      "content": "\"use client\";\r\n\r\nimport { useIsMobile } from \"@/registry/hooks/useMediaQuery/useMediaQuery\";\r\nimport { Dialog, DialogContent, DialogTrigger } from \"@/components/ui/dialog\";\r\nimport { Drawer, DrawerContent, DrawerTrigger } from \"@/components/ui/drawer\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { type ReactNode } from \"react\";\r\n\r\ntype DrawerDialogProps = {\r\n  trigger: ReactNode;\r\n  content: ReactNode;\r\n  open?: boolean;\r\n  onOpenChange?: (open: boolean) => void;\r\n\r\n  drawerContentClassName?: string;\r\n  contentClassName?: string;\r\n};\r\n\r\nexport function DrawerDialog({\r\n  content,\r\n  trigger,\r\n  onOpenChange,\r\n  open,\r\n  contentClassName,\r\n  drawerContentClassName,\r\n}: DrawerDialogProps) {\r\n  const isMobile = useIsMobile();\r\n\r\n  // drawer\r\n  if (isMobile)\r\n    return (\r\n      <Drawer\r\n        // autoFocus={open} fixes block aria hidden attribute accessibility bug\r\n        // repositionInputs={true} prevents safari keyboard layout shift on dismissal\r\n        open={open}\r\n        onOpenChange={onOpenChange}\r\n      >\r\n        <DrawerTrigger\r\n          onClick={(e) => {\r\n            e.currentTarget.blur(); // another fix for block aria hidden attribute accessibility bug\r\n          }}\r\n          asChild\r\n        >\r\n          {trigger}\r\n        </DrawerTrigger>\r\n\r\n        <DrawerContent className={drawerContentClassName}>\r\n          <div\r\n            className={cn(\"max-h-[90dvh] overflow-y-auto\", contentClassName)}\r\n          >\r\n            {content}\r\n          </div>\r\n        </DrawerContent>\r\n      </Drawer>\r\n    );\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogTrigger asChild>{trigger}</DialogTrigger>\r\n\r\n      <DialogContent\r\n        className={cn(\r\n          \"max-h-[90dvh] w-[auto] overflow-x-hidden overflow-y-auto p-0 sm:max-w-[80dvw]\",\r\n          contentClassName,\r\n        )}\r\n      >\r\n        {content}\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n",
      "type": "registry:ui"
    }
  ]
}