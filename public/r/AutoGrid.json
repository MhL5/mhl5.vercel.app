{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "AutoGrid",
  "type": "registry:component",
  "title": "AutoGrid",
  "description": "a component that automatically adjusts the grid columns without relying on breakpoints.",
  "files": [
    {
      "path": "src/registry/new-york/AutoGrid/AutoGrid.tsx",
      "content": "import { type ComponentProps, useCallback, useMemo } from \"react\";\r\n\r\ntype AutoGridProps = {\r\n  maxColCount: Options[\"maxColCount\"];\r\n  minColSize: Options[\"minColSize\"];\r\n  gap: Options[\"gap\"];\r\n\r\n  sm?: Options;\r\n  md?: Options;\r\n  lg?: Options;\r\n\r\n  uniqueId: string;\r\n} & ComponentProps<\"div\">;\r\n\r\ntype Options = {\r\n  maxColCount?: number;\r\n  minColSize?: number;\r\n  gap?: number;\r\n};\r\n\r\nconst defaultOptions: Required<Options> = {\r\n  maxColCount: 5,\r\n  minColSize: 5,\r\n  gap: 1,\r\n};\r\n\r\nconst breakpoints = {\r\n  sm: \"40rem\",\r\n  md: \"48rem\",\r\n  lg: \"64rem\",\r\n};\r\n\r\nfunction generateCssVariables(options: Options): string {\r\n  return `\r\n    --grid-max-col-count: ${options.maxColCount || defaultOptions.maxColCount};\r\n    --grid-min-col-size: ${options.minColSize || defaultOptions.minColSize}rem;\r\n    --grid-gap: ${options.gap || defaultOptions.gap}rem;\r\n  `;\r\n}\r\n\r\n/**\r\n * AutoGrid is a component that automatically adjusts the grid columns based on the screen size.\r\n *\r\n * @param maxColCount - The maximum number of columns the grid can have.\r\n * @param minColSize - The minimum size of each column in **rem**.\r\n * @param gap - The gap between each column in **rem**.\r\n * @param sm - The options for the small screen size.\r\n * @param md - The options for the medium screen size.\r\n * @param lg - The options for the large screen size.\r\n * @param props - Also accepts the HTML div props for the component.\r\n *\r\n */\r\nexport default function AutoGrid({\r\n  gap,\r\n  uniqueId,\r\n  maxColCount,\r\n  minColSize,\r\n  sm,\r\n  md,\r\n  lg,\r\n  ...props\r\n}: AutoGridProps) {\r\n  const baseVariables = generateCssVariables({ maxColCount, minColSize, gap });\r\n  const generateMediaQueries = useCallback(\r\n    () =>\r\n      [sm, md, lg]\r\n        .map((options, index) => {\r\n          if (!options) return \"\";\r\n          const breakpoint = Object.values(breakpoints)[index];\r\n          return `\r\n          @media (width >= ${breakpoint}) {\r\n            #${uniqueId} {\r\n              --grid-max-col-count: ${options.maxColCount || maxColCount};\r\n              --grid-min-col-size: ${options.minColSize || minColSize}rem;\r\n              --grid-gap: ${options.gap || gap}rem;\r\n            }\r\n          }\r\n        `;\r\n        })\r\n        .join(\"\\n\"),\r\n    [gap, maxColCount, minColSize, uniqueId, sm, md, lg],\r\n  );\r\n  const mediaQueries = useMemo(\r\n    () => generateMediaQueries(),\r\n    [generateMediaQueries],\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <style>\r\n        {`\r\n          #${uniqueId} {\r\n            ${baseVariables}\r\n            \r\n            /* calculations, do not touch */\r\n            --grid-col-size-calc: calc(\r\n              (100% - var(--grid-gap) * var(--grid-max-col-count)) /\r\n                var(--grid-max-col-count)\r\n            );\r\n            --grid-col-min-size-calc: min(\r\n              100%,\r\n              max(var(--grid-min-col-size), var(--grid-col-size-calc))\r\n            );\r\n            display: grid;\r\n            gap: var(--grid-gap);\r\n            grid-template-columns: repeat(\r\n              auto-fit,\r\n              minmax(var(--grid-col-min-size-calc), 1fr)\r\n            );\r\n            ${mediaQueries || \"\"}`}\r\n      </style>\r\n\r\n      <div id={uniqueId} {...props} />\r\n    </>\r\n  );\r\n}\r\n",
      "type": "registry:component"
    }
  ]
}
