{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "useMediaQuery",
  "type": "registry:hook",
  "title": "useMediaQuery",
  "description": "the `useMediaQuery` module provides hooks for working with responsive breakpoints in React applications. its written using the `window.matchMedia` API and `facade` pattern.",
  "files": [
    {
      "path": "src/registry/hooks/useMediaQuery/useMediaQuery.ts",
      "content": "\"use client\";\r\n\r\nimport type { StringWithAutoComplete } from \"@/registry/types/AutoComplete/AutoComplete\";\r\nimport { useEffect, useMemo, useState } from \"react\";\r\n\r\ntype Direction = \"max\" | \"min\";\r\ntype TailwindcssBreakpointsRemValue =\r\n  (typeof breakpoints)[keyof typeof breakpoints];\r\ntype CssQueryString =\r\n  StringWithAutoComplete<`(${Direction}-width: ${TailwindcssBreakpointsRemValue}rem)`>;\r\n\r\nfunction useMediaQueryCore(cssQueryString: CssQueryString) {\r\n  const [matches, setMatches] = useState<boolean | undefined>(undefined);\r\n\r\n  useEffect(() => {\r\n    const mediaQueryList = window.matchMedia(cssQueryString);\r\n\r\n    const handleChange = () => setMatches(mediaQueryList.matches);\r\n\r\n    mediaQueryList.addEventListener(\"change\", handleChange);\r\n    setMatches(mediaQueryList.matches);\r\n\r\n    return () => mediaQueryList.removeEventListener(\"change\", handleChange);\r\n  }, [cssQueryString]);\r\n\r\n  return matches;\r\n}\r\n\r\n/**\r\n * Hook for custom breakpoint values.\r\n *\r\n * queries can be changed to any css query.\r\n * @example\r\n * ```tsx\r\n * useMediaQuery(\"(min-width: 48rem)\");\r\n * useMediaQuery(\"(min-width: 50rem)\");\r\n * useMediaQuery(\"(max-width: 75rem)\");\r\n * ```\r\n */\r\nfunction useMediaQuery(cssQueryString: CssQueryString) {\r\n  return useMediaQueryCore(cssQueryString);\r\n}\r\n\r\n/**\r\n * based on tailwind v4 breakpoints and some custom xs breakpoints\r\n * @see https://tailwindcss.com/docs/theme#default-theme-variable-reference\r\n */\r\nconst breakpoints = {\r\n  \"3xs\": 16, // 352px\r\n  \"2xs\": 24.25, // 388px\r\n  xs: 28, // 448px\r\n  sm: 40, // 640px\r\n  md: 48, // 768px\r\n  lg: 64, // 1024px\r\n  xl: 80, // 1280px\r\n  \"2xl\": 96, // 1536px\r\n} as const;\r\n\r\n/**\r\n * Hook for tailwind breakpoints\r\n * by default similar to tailwindcss it uses min-width\r\n * you can swap the direction to `max` to check for the breakpoint and below\r\n * @example\r\n * ```tsx\r\n * const isMobile = useMediaQueryBreakpoint(\"sm\");\r\n * const isTablet = useMediaQueryBreakpoint(\"md\",\"max\");\r\n * const isDesktop = useMediaQueryBreakpoint(\"lg\",\"min\");\r\n * ```\r\n */\r\nfunction useMediaQueryBreakpoint(\r\n  breakpoint: keyof typeof breakpoints,\r\n  direction: Direction = \"min\",\r\n) {\r\n  const valueInRem = useMemo(() => breakpoints[breakpoint], [breakpoint]);\r\n  return useMediaQueryCore(`(${direction}-width: ${valueInRem}rem)`);\r\n}\r\n\r\n/**\r\n * returns true on `sm`/`640px`/`40rem` and below\r\n *\r\n * @example\r\n * ```tsx\r\n * const isMobile = useIsMobile();\r\n * ```\r\n */\r\nfunction useIsMobile() {\r\n  return useMediaQueryBreakpoint(\"sm\", \"max\");\r\n}\r\n\r\nexport { useIsMobile, useMediaQuery, useMediaQueryBreakpoint };\r\n",
      "type": "registry:hook"
    }
  ]
}