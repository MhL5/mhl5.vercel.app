{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "useMediaQuery",
  "type": "registry:hook",
  "title": "useMediaQuery",
  "description": "`useMediaQuery` uses `useSyncExternalStore` to reactively track media query matches.",
  "registryDependencies": [
    "https://mhl5.vercel.app/r/AutoComplete.json"
  ],
  "files": [
    {
      "path": "src/registry/hooks/useMediaQuery/useMediaQuery.ts",
      "content": "\"use client\";\n\nimport { useSyncExternalStore } from \"react\";\nimport type { StringWithAutoComplete } from \"@/registry/types/AutoComplete/AutoComplete\";\n\ntype Direction = \"max\" | \"min\";\n\n/**\n * Tailwind V4 Breakpoints: https://tailwindcss.com/docs/responsive-design#overview\n */\ntype TailwindCssBreakpoints = {\n  sm: \"40rem\"; // 640px\n  md: \"48rem\"; // 768px\n  lg: \"64rem\"; // 1024px\n  xl: \"80rem\"; // 1280px\n  \"2xl\": \"96rem\"; // 1536px\n};\ntype TailwindCssBreakpointValues =\n  TailwindCssBreakpoints[keyof TailwindCssBreakpoints];\n\n/**\n * Query string for useMediaQuery hook\n * Supports auto complete for tailwind css breakpoints\n */\ntype Query =\n  StringWithAutoComplete<`(${Direction}-width: ${TailwindCssBreakpointValues})`>;\n\nfunction subscribe(query: Query, onChange: () => void) {\n  const mediaQueryList = window.matchMedia(query);\n  mediaQueryList.addEventListener(\"change\", onChange);\n  return () => mediaQueryList.removeEventListener(\"change\", onChange);\n}\n\nfunction getSnapshot(query: Query) {\n  return window.matchMedia(query).matches;\n}\n\nfunction getServerSnapshot() {\n  return false;\n}\n\nexport function useMediaQuery(query: Query) {\n  return useSyncExternalStore(\n    (onChange) => subscribe(query, onChange),\n    () => getSnapshot(query),\n    getServerSnapshot,\n  );\n}\n",
      "type": "registry:hook"
    }
  ],
  "meta": {
    "url": "/snippets/hooks/useMediaQuery"
  }
}