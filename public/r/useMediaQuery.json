{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "useMediaQuery",
  "type": "registry:hook",
  "title": "useMediaQuery",
  "description": "`useMediaQuery` uses `useSyncExternalStore` to reactively track media query matches.",
  "registryDependencies": [
    "https://mhl5.vercel.app/r/AutoComplete.json"
  ],
  "files": [
    {
      "path": "src/registry/hooks/useMediaQuery/useMediaQuery.ts",
      "content": "\"use client\";\n\nimport { useSyncExternalStore } from \"react\";\nimport type { StringWithAutoComplete } from \"@/registry/types/AutoComplete/AutoComplete\";\n\ntype Direction = \"max\" | \"min\";\n\ntype CssQueryString =\n  StringWithAutoComplete<`(${Direction}-width: ${number}rem)`>;\n\nfunction subscribe(cssQueryString: CssQueryString, onChange: () => void) {\n  const mediaQueryList = window.matchMedia(cssQueryString);\n  mediaQueryList.addEventListener(\"change\", onChange);\n  return () => mediaQueryList.removeEventListener(\"change\", onChange);\n}\n\nfunction getSnapshot(cssQueryString: CssQueryString) {\n  return window.matchMedia(cssQueryString).matches;\n}\n\nfunction getServerSnapshot() {\n  return false;\n}\n\nfunction useMediaQuery(cssQueryString: CssQueryString) {\n  return useSyncExternalStore(\n    (onChange) => subscribe(cssQueryString, onChange),\n    () => getSnapshot(cssQueryString),\n    getServerSnapshot,\n  );\n}\n\nexport { useMediaQuery };\n",
      "type": "registry:hook"
    }
  ],
  "meta": {
    "url": "/snippets/hooks/useMediaQuery"
  }
}