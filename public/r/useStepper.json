{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "useStepper",
  "type": "registry:hook",
  "title": "useStepper",
  "description": "A hook for managing step-based navigation logic.",
  "files": [
    {
      "path": "src/registry/hooks/useStepper/useStepper.ts",
      "content": "\"use client\";\n\nimport { type ReactNode, useCallback, useMemo, useState } from \"react\";\n\ntype UseStepperOptions = {\n  initialStep?: number;\n  loop?: boolean;\n};\n\ntype BaseReturnType = {\n  currentStep: number;\n  isFirstStep: boolean;\n  isLastStep: boolean;\n  goTo: (index: number) => void;\n  next: () => void;\n  back: () => void;\n};\n\nexport function useStepper(\n  steps: number,\n  options?: UseStepperOptions,\n): BaseReturnType;\n\nexport function useStepper(\n  steps: ReactNode[],\n  options?: UseStepperOptions,\n): BaseReturnType & { step: ReactNode };\n\n/**\n * a reusable hook for managing steps\n *\n * 0 based index\n * @example\n * const stepper = useStepper(3); // you get step 0 1 2\n */\nexport function useStepper(\n  steps: ReactNode[] | number,\n  { initialStep = 0, loop = false }: UseStepperOptions = {},\n) {\n  const [currentStep, setCurrentStep] = useState(initialStep);\n\n  const lastStep = useMemo(() => {\n    if (Array.isArray(steps)) return steps.length - 1;\n    return steps;\n  }, [steps]);\n  const isFirstStep = useMemo(() => currentStep === 0, [currentStep]);\n  const isLastStep = useMemo(\n    () => currentStep === lastStep,\n    [currentStep, lastStep],\n  );\n\n  const next = useCallback(() => {\n    if (isLastStep) {\n      if (loop) setCurrentStep(0);\n      return;\n    }\n    setCurrentStep((step) => step + 1);\n  }, [isLastStep, loop]);\n\n  const back = useCallback(() => {\n    if (isFirstStep) {\n      if (loop) setCurrentStep(lastStep);\n      return;\n    }\n    setCurrentStep((step) => step - 1);\n  }, [isFirstStep, loop, lastStep]);\n\n  const goTo = useCallback(\n    (index: number) => {\n      if (index < 0 || index > lastStep) {\n        throw new Error(\n          `Invalid step index: ${index}. Must be between 0 and ${lastStep}`,\n        );\n      }\n      setCurrentStep(index);\n    },\n    [lastStep],\n  );\n\n  const output = useMemo(\n    () => ({\n      currentStep,\n      isFirstStep,\n      isLastStep,\n      goTo,\n      next,\n      back,\n    }),\n    [back, currentStep, goTo, next, isFirstStep, isLastStep],\n  );\n\n  if (Array.isArray(steps)) return { ...output, step: steps[currentStep] };\n  return output;\n}\n",
      "type": "registry:hook"
    }
  ],
  "meta": {
    "url": "/snippets/hooks/useStepper"
  }
}